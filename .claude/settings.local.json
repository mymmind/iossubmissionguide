{
  "permissions": {
    "allow": [
      "Bash(docker --version:*)",
      "Bash(docker compose:*)",
      "Bash(docker run:*)",
      "Bash(postgres:15-alpine)",
      "Bash(brew install:*)",
      "Bash(brew services start:*)",
      "Bash(/opt/homebrew/opt/postgresql@15/bin/createdb:*)",
      "Bash(npm install:*)",
      "Bash(npx prisma generate:*)",
      "Bash(npx prisma migrate:*)",
      "Bash(DATABASE_URL=\"postgresql://localhost:5432/appstore_guides\" npx prisma migrate:*)",
      "Bash(DATABASE_URL=\"postgresql://$USER@localhost:5432/appstore_guides\" npx prisma migrate:*)",
      "Bash(npm run db:seed:*)",
      "Bash(DATABASE_URL=\"postgresql://asgrimbeek@localhost:5432/appstore_guides\" npx tsx:*)",
      "Bash(lsof:*)",
      "Bash(sips:*)",
      "Bash(openssl rand:*)",
      "Bash(ssh:*)",
      "Bash(rsync:*)",
      "Bash(scp:*)",
      "Bash(curl:*)",
      "Bash(ping:*)",
      "Bash(npm run dev:*)",
      "Bash(DATABASE_URL=\"postgresql://asgrimbeek@localhost:5432/appstore_guides\" npx tsx -e:*)",
      "Bash(cat:*)",
      "Bash(npm run build:*)",
      "Bash(chmod:*)",
      "Bash(DATABASE_URL=\"postgresql://asgrimbeek@localhost:5432/appstore_guides\" npx prisma migrate dev:*)",
      "Bash(DATABASE_URL=\"postgresql://asgrimbeek@localhost:5432/appstore_guides\" npx prisma db push:*)",
      "Bash(DATABASE_URL=\"postgresql://asgrimbeek@localhost:5432/appstore_guides\" npx prisma generate:*)",
      "Bash(psql:*)",
      "Bash(/opt/homebrew/opt/postgresql@15/bin/psql:*)",
      "Bash(DATABASE_URL=\"postgresql://asgrimbeek@localhost:5432/appstore_guides\" node:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(git checkout:*)",
      "Bash(git pull:*)",
      "Bash(git merge:*)",
      "Bash(git stash:*)",
      "Bash(pkill:*)",
      "Bash(xargs kill:*)",
      "Bash(DATABASE_URL=\"postgresql://asgrimbeek@localhost:5432/appstore_guides\" psql:*)",
      "Bash(/opt/homebrew/opt/postgresql@15/bin/pg_dump:*)",
      "Bash(/opt/homebrew/bin/pg_dump:*)",
      "Bash(/opt/homebrew/opt/postgresql@16/bin/pg_dump:*)",
      "Bash(./ mmmadmin@46.224.21.200:/var/www/iossubmissionguide.com/)",
      "Bash(ls -la \"backend/downloads/LLM Prompt: iOS Best Practices \\(2025\\)\"\" and \"\"Passing App Store Review \\(iOS/\")",
      "Bash(/Users/asgrimbeek/Projects/appstorepass/ mmmadmin@46.224.21.200:/var/www/iossubmissionguide.com/)",
      "Bash(xxd:*)",
      "Bash(for f in LLM*iOS*iPadOS*.md)",
      "Bash(do mv \"$f\" \"LLM Prompt - iOS Best Practices and App Store Review \\(2025\\).md\")",
      "Bash(done)",
      "Bash(xargs ls:*)",
      "Bash(xargs:*)",
      "Bash(wc:*)",
      "Bash(ls:*)",
      "Bash(cwebp:*)",
      "Bash(gzip:*)",
      "Bash(python3:*)",
      "Bash(cd /Users/asgrimbeek/Projects/appstorepass/backend && DATABASE_URL=\"postgresql://asgrimbeek@localhost:5432/appstore_guides\" npx tsx scripts/seed-guideline-2-1.ts:*)",
      "Bash(DATABASE_URL=\"postgresql://asgrimbeek@localhost:5432/appstore_guides\" npx tsx scripts/seed-screenshots-guide.ts)",
      "Bash(cd /Users/asgrimbeek/Projects/appstorepass/backend && DATABASE_URL=\"postgresql://asgrimbeek@localhost:5432/appstore_guides\" npx tsx scripts/seed-metadata-guide.ts:*)",
      "Bash(grep:*)",
      "Bash(while read article)",
      "Bash(do echo \"$article\")",
      "Bash(npx tsx:*)",
      "Bash(export DATABASE_URL:*)",
      "Bash(ssh mmmadmin@46.224.21.200 'cd /var/www/iossubmissionguide.com/backend && DATABASE_URL=\"\"postgresql://iosguide:Iw+n1DBedNZ7gSc7BUggyduVUZ32wQdt@localhost:5432/iossubmissionguide\"\" npx tsx scripts/seed-gemini.ts')",
      "Bash(ssh mmmadmin@46.224.21.200 'cd /var/www/iossubmissionguide.com/frontend && npm run build')",
      "Bash(ssh mmmadmin@46.224.21.200 'pm2 restart iossubmissionguide')",
      "Bash(ssh mmmadmin@46.224.21.200 'cd /var/www/iossubmissionguide.com/backend && DATABASE_URL=\"\"postgresql://iosguide:Iw+n1DBedNZ7gSc7BUggyduVUZ32wQdt@localhost:5432/iossubmissionguide\"\" npx tsx scripts/seed-guideline-2-1.ts')",
      "Bash(ssh mmmadmin@46.224.21.200 'cd /var/www/iossubmissionguide.com/backend && DATABASE_URL=\"\"postgresql://iosguide:Iw+n1DBedNZ7gSc7BUggyduVUZ32wQdt@localhost:5432/iossubmissionguide\"\" npx tsx scripts/seed-guideline-3-1.ts')",
      "Bash(ssh mmmadmin@46.224.21.200 'cd /var/www/iossubmissionguide.com/backend && DATABASE_URL=\"\"postgresql://iosguide:Iw+n1DBedNZ7gSc7BUggyduVUZ32wQdt@localhost:5432/iossubmissionguide\"\" npx tsx scripts/seed-guideline-4-2.ts')",
      "Bash(bash scripts/deploy.sh:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nSEO improvements: legal pages, accessibility, and sitemap fixes\n\n- Add Privacy Policy, Terms of Service, and About pages\n- Fix sitemap domain \\(appstorepass.com â†’ iossubmissionguide.com\\)\n- Add all 19 pages to sitemap including new legal pages\n- Fix robots.txt with wildcard blocking for utility pages\n- Add skip navigation link for accessibility\n- Add Twitter site/creator meta tags \\(@iossubmitguide\\)\n- Add ARIA labels to mobile menu \\(aria-expanded, aria-controls, role\\)\n- Improve mobile menu UX: Escape key, body scroll lock, close on nav\n- Add footer navigation with legal links and contact\n- Add lazy loading and dimensions to testimonial image\n- Add main content ID for skip link target\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"ls -la /var/www/\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"ls -la /var/www/iossubmissionguide.com/\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"ls -la /var/www/iossubmissionguide.com/frontend/\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"cat /var/www/iossubmissionguide.com/deploy.sh\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"ls -la /var/www/iossubmissionguide.com/frontend/src/pages/\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"ls -la /var/www/iossubmissionguide.com/frontend/dist/\")",
      "Bash(./deploy.sh:*)",
      "Bash(ssh mmmadmin@46.224.21.200 \"cd /var/www/iossubmissionguide.com/frontend && npm install\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"cd /var/www/iossubmissionguide.com/frontend && npm run build\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"ls -la /var/www/iossubmissionguide.com/frontend/dist/ | grep -E ''about|privacy|terms|sitemap''\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"pm2 list\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"cat /var/www/iossubmissionguide.com/frontend/dist/sitemap-0.xml\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"ls -la /var/www/iossubmissionguide.com/frontend/dist/og-image* 2>/dev/null || echo ''No og-image files''\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"cat /etc/nginx/sites-available/iossubmissionguide.com\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"cat > /tmp/iossubmissionguide.com.new << ''NGINX_EOF''\nserver {\n    server_name iossubmissionguide.com www.iossubmissionguide.com;\n\n    # API proxy to backend\n    location /api {\n        proxy_pass http://127.0.0.1:3005;\n        proxy_http_version 1.1;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n\n    location / {\n        proxy_pass http://127.0.0.1:3000;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection ''upgrade'';\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_cache_bypass $http_upgrade;\n    }\n\n    # Gzip compression\n    gzip on;\n    gzip_types text/plain text/css application/javascript application/json image/svg+xml;\n    gzip_min_length 1000;\n\n    # Security headers\n    add_header X-Frame-Options \"\"SAMEORIGIN\"\" always;\n    add_header X-Content-Type-Options \"\"nosniff\"\" always;\n    add_header X-XSS-Protection \"\"1; mode=block\"\" always;\n    add_header Strict-Transport-Security \"\"max-age=31536000; includeSubDomains; preload\"\" always;\n    add_header Referrer-Policy \"\"strict-origin-when-cross-origin\"\" always;\n    add_header Permissions-Policy \"\"camera=\\(\\), microphone=\\(\\), geolocation=\\(\\)\"\" always;\n\n    # Cache Astro static assets \\(1 year\\)\n    location /_astro/ {\n        proxy_pass http://127.0.0.1:3000;\n        expires 1y;\n        add_header Cache-Control \"\"public, immutable\"\";\n    }\n\n    # Cache images and fonts \\(1 year\\)\n    location ~* \\\\.\\(webp|jpg|jpeg|png|gif|ico|svg|woff|woff2\\)$ {\n        proxy_pass http://127.0.0.1:3000;\n        expires 1y;\n        add_header Cache-Control \"\"public, immutable\"\";\n    }\n\n    location /_next/static/ {\n        proxy_pass http://127.0.0.1:3000;\n        expires 30d;\n        add_header Cache-Control \"\"public, immutable\"\";\n    }\n\n    # HTTP/2 enabled\n    listen [::]:443 ssl http2;\n    listen 443 ssl http2;\n    ssl_certificate /etc/letsencrypt/live/iossubmissionguide.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/iossubmissionguide.com/privkey.pem;\n    include /etc/letsencrypt/options-ssl-nginx.conf;\n    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;\n}\n\nserver {\n    if \\($host = www.iossubmissionguide.com\\) {\n        return 301 https://$host$request_uri;\n    }\n\n    if \\($host = iossubmissionguide.com\\) {\n        return 301 https://$host$request_uri;\n    }\n\n    listen 80;\n    listen [::]:80;\n    server_name iossubmissionguide.com www.iossubmissionguide.com;\n    return 404;\n}\nNGINX_EOF\n\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"sudo cp /etc/nginx/sites-available/iossubmissionguide.com /etc/nginx/sites-available/iossubmissionguide.com.backup && sudo cp /tmp/iossubmissionguide.com.new /etc/nginx/sites-available/iossubmissionguide.com && sudo nginx -t\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"sudo -n nginx -t 2>&1 || echo ''Sudo requires password''\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"echo ''eEz+TEGkBrhdGe/tawoC9DV+eKEGCXaQ61ex+TWDIH8='' | sudo -S cp /etc/nginx/sites-available/iossubmissionguide.com /etc/nginx/sites-available/iossubmissionguide.com.backup 2>/dev/null && echo ''eEz+TEGkBrhdGe/tawoC9DV+eKEGCXaQ61ex+TWDIH8='' | sudo -S cp /tmp/iossubmissionguide.com.new /etc/nginx/sites-available/iossubmissionguide.com 2>/dev/null && echo ''eEz+TEGkBrhdGe/tawoC9DV+eKEGCXaQ61ex+TWDIH8='' | sudo -S nginx -t 2>&1\")",
      "Bash(ssh mmmadmin@46.224.21.200 \"echo ''eEz+TEGkBrhdGe/tawoC9DV+eKEGCXaQ61ex+TWDIH8='' | sudo -S systemctl reload nginx 2>/dev/null && echo ''Nginx reloaded successfully''\")",
      "Bash(npx tsc:*)",
      "Bash(npx astro check:*)",
      "Bash(timeout 60 npm run build:*)",
      "Bash(npm audit fix:*)",
      "Bash(npm audit:*)",
      "Bash(ssh mmmadmin@46.224.21.200 \"cd /var/www/iossubmissionguide.com/frontend && npm run build 2>&1 | tail -25\")"
    ]
  }
}
