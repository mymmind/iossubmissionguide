---
import Layout from '../layouts/Layout.astro';

const title = "iOS App Store Review Toolkit - AI-Powered Approval System (2025)";
const description = "Pass App Store review on your first try. AI-powered audit for Swift, React Native & Expo apps. Includes guidelines checklist, privacy strings generator, and rejection recovery templates.";

// Product schema for rich snippets
const productSchema = {
  "@context": "https://schema.org",
  "@type": "Product",
  "name": "iOS App Store AI Review Toolkit",
  "description": "Complete AI-powered audit system for iOS app developers. Includes strategy guides, coding best practices, and master AI prompts to ensure first-time App Store approval.",
  "brand": {
    "@type": "Organization",
    "name": "iOS Submission Guide"
  },
  "offers": {
    "@type": "Offer",
    "price": "29.99",
    "priceCurrency": "USD",
    "availability": "https://schema.org/InStock",
    "priceValidUntil": "2025-12-31",
    "url": "https://iossubmissionguide.com/ai-review"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "reviewCount": "1"
  },
  "review": {
    "@type": "Review",
    "reviewRating": {
      "@type": "Rating",
      "ratingValue": "5"
    },
    "author": {
      "@type": "Person",
      "name": "Alford G."
    },
    "reviewBody": "Definitely worth the $29.99. It'll save you a ton of work."
  }
};

// FAQ schema for common questions
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What platforms does the AI Toolkit support?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The toolkit supports Native iOS (Swift/Objective-C), React Native, and Expo & EAS. Each platform has dedicated best practices and audit prompts."
      }
    },
    {
      "@type": "Question",
      "name": "What's included in the AI Review Toolkit?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The toolkit includes: Store Review Strategy PDF (meta-data audit, reviewer communications, business compliance, rejection recovery), Coding Best Practices guide (Swift APIs, React Native bridges, permission architecture, resource efficiency), and Master AI Instructions (prompts that turn AI into a Senior Apple Quality Engineer)."
      }
    },
    {
      "@type": "Question",
      "name": "How does the AI audit system work?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The AI audit system uses expertly engineered prompts that analyze your codebase against Apple's App Store Guidelines. It checks for performance issues (Guideline 2.1), payment compliance (Guideline 3.1), and privacy requirements (Guideline 5.1)."
      }
    },
    {
      "@type": "Question",
      "name": "Is there a money-back guarantee?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, we offer a satisfaction guarantee. If the toolkit doesn't help you pass App Store review, contact us for support."
      }
    }
  ]
};

// Breadcrumb schema
const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://iossubmissionguide.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "AI Review Toolkit",
      "item": "https://iossubmissionguide.com/ai-review"
    }
  ]
};

// SoftwareApplication schema for developer tools context
const softwareSchema = {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "iOS App Store AI Review Toolkit",
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "iOS, macOS",
  "offers": {
    "@type": "Offer",
    "price": "29.99",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": "1"
  },
  "featureList": [
    "AI-powered code audit for App Store Guidelines",
    "Native Swift and Objective-C support",
    "React Native and Expo compatibility",
    "Privacy permission string generator",
    "Rejection recovery templates"
  ]
};
---

<Layout title={title} description={description}>
  <!-- Schema JSON-LD -->
  <script type="application/ld+json" set:html={JSON.stringify(productSchema)} />
  <script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />
  <script type="application/ld+json" set:html={JSON.stringify(breadcrumbSchema)} />
  <script type="application/ld+json" set:html={JSON.stringify(softwareSchema)} />

  <div class="max-w-5xl mx-auto px-6">
    <!-- Hero Section -->
    <section class="mt-16 text-center animate-in fade-in slide-in-from-bottom-4 duration-1000">
      <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 mb-8">
        <span class="relative flex h-2 w-2">
          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-apple-blue opacity-75"></span>
          <span class="relative inline-flex rounded-full h-2 w-2 bg-apple-blue"></span>
        </span>
        <span class="text-[10px] font-bold uppercase tracking-widest text-apple-blue">Updated for 2025 Guidelines</span>
      </div>
      
      <h1 class="text-5xl lg:text-8xl font-sans font-bold text-apple-dark dark:text-white mb-8 tracking-tight leading-[1.05]">
        Ship Your App <br/> <span class="text-apple-blue italic">Without the Stress</span>
      </h1>

      <p class="text-xl lg:text-2xl text-gray-500 dark:text-gray-400 max-w-3xl mx-auto mb-12 font-medium leading-relaxed tracking-tight">
        Apple rejects <span class="text-apple-dark dark:text-white font-bold">40,000+ apps every week.</span> We've built the ultimate audit system for <span class="text-apple-dark dark:text-white underline decoration-apple-blue/30">Native Swift</span>, <span class="text-apple-dark dark:text-white underline decoration-apple-blue/30">React Native</span>, and <span class="text-apple-dark dark:text-white underline decoration-apple-blue/30">Expo</span> developers to ensure a first-time approval.
      </p>

      <div class="flex flex-wrap justify-center gap-4 mb-16">
        <span class="px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 rounded-full text-sm font-bold border border-gray-200 dark:border-gray-700">Native iOS (Swift)</span>
        <span class="px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 rounded-full text-sm font-bold border border-gray-200 dark:border-gray-700">React Native</span>
        <span class="px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 rounded-full text-sm font-bold border border-gray-200 dark:border-gray-700">Expo & EAS</span>
      </div>
      
      <div class="flex flex-col sm:flex-row gap-6 justify-center items-center mb-24">
        <button 
          id="paywall-btn-hero" 
          onclick="handlePurchase()"
          class="w-full sm:w-auto px-10 py-5 bg-apple-blue text-white rounded-2xl font-bold text-xl hover:bg-blue-600 transition-all shadow-2xl shadow-apple-blue/30 transform hover:scale-[1.02] active:scale-[0.98]"
        >
          Claim the AI Toolkit — $29.99
        </button>
        <div class="text-left">
            <span class="block text-gray-400 line-through text-sm font-bold">$49.99 Original Price</span>
            <span class="block text-apple-green text-sm font-bold">You Save 40% Today</span>
        </div>
      </div>
    </section>

    <!-- The Pain Points -->
    <section class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-32">
      <div class="bg-red-50/50 dark:bg-red-900/20 border border-red-100 dark:border-red-800/40 rounded-3xl p-10">
        <h2 class="text-2xl font-bold text-apple-red dark:text-red-400 mb-6 flex items-center gap-3">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
          The Cost of Rejection
        </h2>
        <ul class="space-y-4">
          <li class="flex items-start gap-3 text-gray-700 dark:text-gray-200">
            <span class="text-apple-red dark:text-red-400 font-bold text-xl leading-none" aria-hidden="true">×</span>
            <span><strong class="dark:text-white">Lost Momentum:</strong> A 7-day delay can kill your launch day buzz and influencer coverage.</span>
          </li>
          <li class="flex items-start gap-3 text-gray-700 dark:text-gray-200">
            <span class="text-apple-red dark:text-red-400 font-bold text-xl leading-none" aria-hidden="true">×</span>
            <span><strong class="dark:text-white">Technical Debt:</strong> Rerunning builds and resubmitting is a massive drain on focus and energy.</span>
          </li>
          <li class="flex items-start gap-3 text-gray-700 dark:text-gray-200">
            <span class="text-apple-red dark:text-red-400 font-bold text-xl leading-none" aria-hidden="true">×</span>
            <span><strong class="dark:text-white">Shadow Bans:</strong> Repeated rejections can flag your account for "Extraordinary Review," adding weeks to setiap submisson.</span>
          </li>
        </ul>
      </div>

      <div class="bg-green-50/50 dark:bg-green-900/20 border border-green-100 dark:border-green-800/40 rounded-3xl p-10">
        <h2 class="text-2xl font-bold text-apple-green dark:text-green-400 mb-6 flex items-center gap-3">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          The AI Solution
        </h2>
        <ul class="space-y-4">
          <li class="flex items-start gap-3 text-gray-700 dark:text-gray-200">
            <span class="text-apple-green dark:text-green-400 font-bold text-xl leading-none" aria-hidden="true">✓</span>
            <span><strong class="dark:text-white">Predictive Audits:</strong> AI identifies guideline violations before a human reviewer even sees your app.</span>
          </li>
          <li class="flex items-start gap-3 text-gray-700 dark:text-gray-200">
            <span class="text-apple-green dark:text-green-400 font-bold text-xl leading-none" aria-hidden="true">✓</span>
            <span><strong class="dark:text-white">Perfect Privacy:</strong> Automatically generate the exact purpose strings Apple demands for camera and tracking.</span>
          </li>
          <li class="flex items-start gap-3 text-gray-700 dark:text-gray-200">
            <span class="text-apple-green dark:text-green-400 font-bold text-xl leading-none" aria-hidden="true">✓</span>
            <span><strong class="dark:text-white">Reviewer-Friendly Notes:</strong> Use AI to draft submission notes that answer every reviewer's question upfront.</span>
          </li>
        </ul>
      </div>
    </section>

    <!-- Developer Stories - Social Proof -->
    <section class="mb-32">
      <div class="text-center mb-16">
        <h2 class="text-4xl lg:text-5xl font-bold text-apple-dark dark:text-white mb-4 tracking-tight">You're Not Alone</h2>
        <p class="text-lg text-gray-500 dark:text-gray-400 max-w-2xl mx-auto">First-time developers get rejected <span class="text-apple-dark dark:text-white font-bold">2-5 times on average.</span> Here's what the community says:</p>
      </div>

      <!-- Stats Bar -->
      <div class="grid grid-cols-2 lg:grid-cols-4 gap-6 mb-16">
        <div class="bg-gray-50 dark:bg-gray-800/50 rounded-2xl p-6 text-center border border-gray-100 dark:border-gray-700">
          <div class="text-4xl font-bold text-apple-red dark:text-red-400 mb-2">40K+</div>
          <div class="text-sm text-gray-500 dark:text-gray-400 font-medium">Apps rejected weekly</div>
        </div>
        <div class="bg-gray-50 dark:bg-gray-800/50 rounded-2xl p-6 text-center border border-gray-100 dark:border-gray-700">
          <div class="text-4xl font-bold text-apple-blue mb-2">2-5x</div>
          <div class="text-sm text-gray-500 dark:text-gray-400 font-medium">Avg. rejections for first app</div>
        </div>
        <div class="bg-gray-50 dark:bg-gray-800/50 rounded-2xl p-6 text-center border border-gray-100 dark:border-gray-700">
          <div class="text-4xl font-bold text-apple-dark dark:text-white mb-2">7+ days</div>
          <div class="text-sm text-gray-500 dark:text-gray-400 font-medium">Lost per rejection cycle</div>
        </div>
        <div class="bg-gray-50 dark:bg-gray-800/50 rounded-2xl p-6 text-center border border-gray-100 dark:border-gray-700">
          <div class="text-4xl font-bold text-apple-green dark:text-green-400 mb-2">1st try</div>
          <div class="text-sm text-gray-500 dark:text-gray-400 font-medium">With proper preparation</div>
        </div>
      </div>

      <!-- Developer Quotes Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="bg-white dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700 rounded-2xl p-6 hover:shadow-lg transition-shadow">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-sm" aria-hidden="true">JK</div>
            <div>
              <div class="font-bold text-apple-dark dark:text-white text-sm">Jakk</div>
              <div class="text-xs text-gray-400 dark:text-gray-500">CTO & Indie Developer</div>
            </div>
          </div>
          <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">"I've made many apps, but I've <span class="text-apple-dark dark:text-white font-semibold">never passed review on the first try.</span>"</p>
        </div>

        <div class="bg-white dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700 rounded-2xl p-6 hover:shadow-lg transition-shadow">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-sm" aria-hidden="true">RS</div>
            <div>
              <div class="font-bold text-apple-dark dark:text-white text-sm">Rishav Sinha</div>
              <div class="text-xs text-gray-400 dark:text-gray-500">iOS Developer</div>
            </div>
          </div>
          <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">"My app was <span class="text-apple-dark dark:text-white font-semibold">rejected 5 times</span>, then it got approved."</p>
        </div>

        <div class="bg-white dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700 rounded-2xl p-6 hover:shadow-lg transition-shadow">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center text-white font-bold text-sm" aria-hidden="true">AW</div>
            <div>
              <div class="font-bold text-apple-dark dark:text-white text-sm">Arian Weinbaum</div>
              <div class="text-xs text-gray-400 dark:text-gray-500">App Developer</div>
            </div>
          </div>
          <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">"After <span class="text-apple-dark dark:text-white font-semibold">7 rejections</span> I know how it feels."</p>
        </div>

        <div class="bg-white dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700 rounded-2xl p-6 hover:shadow-lg transition-shadow">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm" aria-hidden="true">KY</div>
            <div>
              <div class="font-bold text-apple-dark dark:text-white text-sm">Kily</div>
              <div class="text-xs text-gray-400 dark:text-gray-500">Mobile Developer</div>
            </div>
          </div>
          <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">"It's normal to get rejected <span class="text-apple-dark dark:text-white font-semibold">2-3 times</span> if you submit for the first time. After that it's way easier."</p>
        </div>

        <div class="bg-white dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700 rounded-2xl p-6 hover:shadow-lg transition-shadow">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 bg-gradient-to-br from-red-400 to-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm" aria-hidden="true">NB</div>
            <div>
              <div class="font-bold text-apple-dark dark:text-white text-sm">Naval Bihani</div>
              <div class="text-xs text-gray-400 dark:text-gray-500">Software Engineer</div>
            </div>
          </div>
          <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">"Apple review team found <span class="text-apple-dark dark:text-white font-semibold">a typo in a variable name.</span> Instant rejection."</p>
        </div>

        <div class="bg-white dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700 rounded-2xl p-6 hover:shadow-lg transition-shadow">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 bg-gradient-to-br from-teal-400 to-teal-600 rounded-full flex items-center justify-center text-white font-bold text-sm" aria-hidden="true">PC</div>
            <div>
              <div class="font-bold text-apple-dark dark:text-white text-sm">Pico</div>
              <div class="text-xs text-gray-400 dark:text-gray-500">Indie Hacker</div>
            </div>
          </div>
          <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">"Usually when I get rejected, it's for <span class="text-apple-dark dark:text-white font-semibold">something tiny I missed</span> in the guidelines."</p>
        </div>
      </div>

      <!-- Call to action -->
      <div class="mt-12 text-center">
        <p class="text-gray-500 dark:text-gray-400 mb-6">Don't become another rejection statistic.</p>
        <button
          onclick="handlePurchase()"
          class="px-8 py-4 bg-apple-dark text-white rounded-2xl font-bold hover:bg-black transition-all"
        >
          Skip the Rejection Cycle — $29.99
        </button>
      </div>
    </section>

    <!-- Detailed Content -->
    <section id="whats-included" class="mb-32">
        <div class="text-center mb-16">
            <h2 class="text-4xl lg:text-5xl font-bold text-apple-dark dark:text-white mb-4 tracking-tight">Everything You Need to Pass</h2>
            <p class="text-lg text-gray-500 dark:text-gray-400">A tiered system designed to cover every angle of the review process.</p>
        </div>

        <div class="space-y-8">
            <!-- Product 1 -->
            <div class="group bg-white dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700 rounded-[2.5rem] p-8 lg:p-12 flex flex-col lg:flex-row gap-12 hover:shadow-2xl hover:shadow-apple-blue/5 transition-all duration-500">
                <div class="w-full lg:w-1/3">
                    <div class="w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center text-apple-blue mb-6 group-hover:scale-110 transition-transform">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                    </div>
                    <h3 class="text-3xl font-bold text-apple-dark dark:text-white mb-4">Store Review Strategy</h3>
                    <p class="text-gray-500 dark:text-gray-400 leading-relaxed font-medium">The comprehensive blueprint for navigating the 2025 App Store Guidelines, regardless of your tech stack.</p>
                </div>
                <div class="w-full lg:w-2/3 grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-2xl">
                        <span class="text-xs font-bold text-apple-blue uppercase mb-2 block">Part 1</span>
                        <h4 class="font-bold mb-2 dark:text-white">Meta-Data Audit</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Perfect your screenshots, descriptions, and keywords for approval.</p>
                    </div>
                    <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-2xl">
                        <span class="text-xs font-bold text-apple-blue uppercase mb-2 block">Part 2</span>
                        <h4 class="font-bold mb-2 dark:text-white">Reviewer Communications</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Exactly what to say in the 'Review Notes' to avoid manual delays.</p>
                    </div>
                    <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-2xl">
                        <span class="text-xs font-bold text-apple-blue uppercase mb-2 block">Part 3</span>
                        <h4 class="font-bold mb-2 dark:text-white">Business Compliance</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Subscriptions, external links, and the 3.1.1 rulebook.</p>
                    </div>
                    <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-2xl">
                        <span class="text-xs font-bold text-apple-blue uppercase mb-2 block">Part 4</span>
                        <h4 class="font-bold mb-2 dark:text-white">Rejection Recovery</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Step-by-step templates for appealing a rejection effectively.</p>
                    </div>
                </div>
            </div>

            <!-- Product 2 -->
            <div class="group bg-white dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700 rounded-[2.5rem] p-8 lg:p-12 flex flex-col lg:flex-row gap-12 hover:shadow-2xl hover:shadow-apple-blue/5 transition-all duration-500">
                <div class="w-full lg:w-1/3 lg:order-2">
                    <div class="w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center text-apple-green dark:text-green-400 mb-6 group-hover:scale-110 transition-transform">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>
                    </div>
                    <h3 class="text-3xl font-bold text-apple-dark dark:text-white mb-4">Coding Best Practices</h3>
                    <p class="text-gray-500 dark:text-gray-400 leading-relaxed font-medium">Platform-specific checklists for Native iOS (Swift), React Native, and Expo (EAS).</p>
                </div>
                <div class="w-full lg:w-2/3 grid grid-cols-1 md:grid-cols-2 gap-6 lg:order-1">
                    <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-2xl border-l-4 border-apple-green dark:border-green-500">
                        <h4 class="font-bold mb-2 dark:text-white">Swift & Native API Audit</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Red-flag APIs that trigger automatic flags for private usage.</p>
                    </div>
                    <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-2xl border-l-4 border-apple-green dark:border-green-500">
                        <h4 class="font-bold mb-2 dark:text-white">Expo & React Native Bridges</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Technically compliant JS execution and OTA update rules (2.5.2).</p>
                    </div>
                    <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-2xl border-l-4 border-apple-green dark:border-green-500">
                        <h4 class="font-bold mb-2 dark:text-white">Permission Architecture</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">The exact sequence of alerts required for Guideline 5.1.1.</p>
                    </div>
                    <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-2xl border-l-4 border-apple-green dark:border-green-500">
                        <h4 class="font-bold mb-2 dark:text-white">Resource Efficiency</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Performance best practices to avoid 'Apps that Crash or are Laggy'.</p>
                    </div>
                </div>
            </div>

            <!-- Product 3 -->
            <div class="dark-card !my-0 !p-12 lg:!p-16 flex flex-col lg:flex-row gap-12 items-center">
                <div class="w-full lg:w-1/2">
                    <div class="flex items-center gap-4 mb-8">
                        <div class="w-14 h-14 bg-apple-blue/20 rounded-2xl flex items-center justify-center border border-apple-blue/30 backdrop-blur-xl">
                            <svg class="w-7 h-7 text-apple-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                        </div>
                        <h3 class="text-4xl font-bold">Master AI Instructions</h3>
                    </div>
                    <p class="text-xl text-gray-400 mb-10 font-medium leading-relaxed">
                        This is more than a list of prompts. It's a series of <span class="text-white">expertly engineered instructions</span> that turn models like Claude 3.5 or GPT-4o into a Senior Apple Quality Engineer.
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-10">
                        <div class="flex items-center gap-3 text-gray-300">
                            <span class="w-1.5 h-1.5 rounded-full bg-apple-blue"></span>
                            <span>Native Swift & Obj-C Support</span>
                        </div>
                        <div class="flex items-center gap-3 text-gray-300">
                            <span class="w-1.5 h-1.5 rounded-full bg-apple-blue"></span>
                            <span>React Native & Expo Support</span>
                        </div>
                        <div class="flex items-center gap-3 text-gray-300">
                            <span class="w-1.5 h-1.5 rounded-full bg-apple-blue"></span>
                            <span>Privacy Policy Analyzer</span>
                        </div>
                        <div class="flex items-center gap-3 text-gray-300">
                            <span class="w-1.5 h-1.5 rounded-full bg-apple-blue"></span>
                            <span>Screenshot Optimizer</span>
                        </div>
                    </div>

                    <div class="hidden md:block">
                        <p class="text-sm text-gray-500 italic mb-4">Sample Prompt Output:</p>
                        <div class="bg-black/50 rounded-2xl p-6 font-mono text-[11px] text-white border border-white/5 opacity-80">
                            [AUDIT COMPLETE] <br/>
                            WARNING: Info.plist contains NSBluetoothAlwaysUsageDescription but no Bluetooth usage was detected in static analysis of Track.swift. This mismatch typically triggers Guideline 5.1.1 rejection...
                        </div>
                    </div>
                </div>
                <div class="w-full lg:w-1/2 bg-white/5 border border-white/10 rounded-[2rem] p-8 backdrop-blur-md">
                    <h4 class="text-xl font-bold mb-6">What the Engine Audits:</h4>
                    <ul class="space-y-6">
                        <li class="flex gap-4">
                            <div class="w-6 h-6 rounded-full bg-apple-blue flex-shrink-0 flex items-center justify-center text-[10px] font-bold">1</div>
                            <div>
                                <h5 class="font-bold text-white tracking-tight">Guideline 2.1: Performance</h5>
                                <p class="text-sm text-gray-400">Audits your networking code for timeout handling and offline states.</p>
                            </div>
                        </li>
                        <li class="flex gap-4">
                            <div class="w-6 h-6 rounded-full bg-apple-blue flex-shrink-0 flex items-center justify-center text-[10px] font-bold">2</div>
                            <div>
                                <h5 class="font-bold text-white tracking-tight">Guideline 3.1: Payments</h5>
                                <p class="text-sm text-gray-600">Scans for external links or "unlocked" features that bypass IAP.</p>
                            </div>
                        </li>
                        <li class="flex gap-4">
                            <div class="w-6 h-6 rounded-full bg-apple-blue flex-shrink-0 flex items-center justify-center text-[10px] font-bold">3</div>
                            <div>
                                <h5 class="font-bold text-white tracking-tight">Guideline 5.1: Privacy</h5>
                                <p class="text-sm text-gray-400">Verifies that every permission string explains the "benefit to the user."</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Satisfaction/Trust -->
    <section class="mb-32 text-center">
        <blockquote class="text-3xl font-bold text-apple-dark dark:text-white mb-12 italic">"Definitely worth the $49.99. It'll save you a ton of work."</blockquote>
        <div class="flex flex-col items-center gap-2">
            <div class="w-16 h-16 rounded-full overflow-hidden border-2 border-apple-blue mb-2">
                <img src="/alfg.jpg" alt="Alford G., iOS Indie Developer and AI Toolkit customer" class="w-full h-full object-cover" width="64" height="64" loading="lazy" decoding="async" />
            </div>
            <p class="font-bold text-apple-dark dark:text-white">Alford G.</p>
            <p class="text-sm text-gray-500 dark:text-gray-400">iOS Indie Developer</p>
        </div>
        <div class="mt-8">
            <a href="/about" class="text-sm text-apple-blue hover:underline font-medium">Meet the team behind the toolkit →</a>
        </div>
    </section>

    <!-- Final CTA -->
    <section class="mb-48">
      <div class="bg-gradient-to-br from-apple-blue to-blue-700 rounded-[3rem] p-12 lg:p-20 text-center text-white shadow-2xl shadow-apple-blue/40 relative overflow-hidden">
        <!-- Decorative elements -->
        <div class="absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-32 -mt-32"></div>
        <div class="absolute bottom-0 left-0 w-64 h-64 bg-black/10 rounded-full blur-3xl -ml-32 -mb-32"></div>

        <h2 class="text-4xl lg:text-6xl font-bold mb-8 tracking-tight">Get Approved next week.</h2>
        <p class="text-xl text-blue-100 max-w-2xl mx-auto mb-12 font-medium leading-relaxed">
          Stop guessing. Stop waiting. Put the full power of the AI Toolkit to work and launch your app with confidence.
        </p>
        
        <div class="space-y-8 relative z-10">
          <div class="flex flex-col items-center gap-4">
            <button 
              id="paywall-btn" 
              onclick="handlePurchase()"
              class="w-full sm:w-auto px-16 py-6 bg-white text-apple-blue rounded-[2rem] font-bold text-2xl hover:bg-gray-50 transition-all shadow-xl shadow-black/20 transform hover:scale-[1.05] active:scale-[0.98]"
            >
              Instant Toolkit Access — $29.99
            </button>
            <div class="px-6 py-2 bg-white/10 rounded-full border border-white/20 backdrop-blur-md">
                <span class="text-white/60 line-through mr-3">$49.99</span>
                <span class="text-green-300 font-bold">Save $20 today</span>
            </div>
          </div>
          
          <div class="flex flex-wrap items-center justify-center gap-x-8 gap-y-4 text-sm text-blue-100 font-medium">
            <span class="flex items-center gap-2">
              <svg class="w-5 h-5 text-green-300" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
              Standard 2025 Release
            </span>
            <span class="flex items-center gap-2">
              <svg class="w-5 h-5 text-green-300" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
              Immediate PDF Download
            </span>
            <span class="flex items-center gap-2">
              <svg class="w-5 h-5 text-green-300" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
              Copy-Paste Prompt Engine
            </span>
          </div>

          <!-- Legal and restore links -->
          <div class="mt-8 pt-6 border-t border-white/10 text-xs text-blue-200/70">
            <p class="mb-2">By purchasing, you agree to our <a href="/terms" class="underline hover:text-white transition-colors">Terms of Service</a> and <a href="/privacy" class="underline hover:text-white transition-colors">Privacy Policy</a>.</p>
            <p>Already purchased? <a href="/restore" class="underline hover:text-white transition-colors">Restore your access</a></p>
          </div>
        </div>
      </div>
    </section>
  </div>
</Layout>

<script is:inline>
  window.handlePurchase = async function() {
    const btn = document.getElementById('paywall-btn');
    const heroBtn = document.getElementById('paywall-btn-hero');
    
    // Save original text
    if (btn && !btn.dataset.originalText) btn.dataset.originalText = btn.innerText;
    if (heroBtn && !heroBtn.dataset.originalText) heroBtn.dataset.originalText = heroBtn.innerText;

    const setButtonsLoading = (isLoading) => {
      [btn, heroBtn].forEach(b => {
        if (b) {
          b.disabled = isLoading;
          if (isLoading) {
            b.innerText = 'Redirecting to Stripe...';
          } else {
            b.innerText = b.dataset.originalText || b.innerText;
          }
        }
      });
    };

    setButtonsLoading(true);

    try {
      const apiBase = window.location.hostname === 'localhost'
        ? 'http://localhost:3005'
        : window.location.origin;
      
      const response = await fetch(apiBase + '/api/create-checkout-session', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({})
      });
      
      const data = await response.json();
      if (data.url) {
        window.location.href = data.url;
      } else {
        alert('Error creating checkout session. Please try again.');
        setButtonsLoading(false);
      }
    } catch (e) {
      console.error(e);
      alert('Error connecting to server.');
      setButtonsLoading(false);
    }
  };
</script>
