@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== COMPONENT CLASSES ===== */
@layer components {

  /* Glass morphism - for sticky headers */
  .glass-header {
    @apply bg-white/80 backdrop-blur-md;
    -webkit-backdrop-filter: blur(12px);
  }

  /* Cards */
  .card {
    @apply bg-white border border-gray-100 rounded-3xl p-8;
  }

  .card-interactive {
    @apply bg-white border border-gray-100 rounded-3xl p-8 hover:border-apple-blue/50 hover:shadow-xl hover:shadow-apple-blue/5 transition-all duration-300;
  }

  /* Dark Card Pattern */
  .dark-card {
    @apply bg-apple-dark text-white rounded-3xl p-10 my-12;
  }

  .dark-card h2,
  .dark-card h3,
  .dark-card h4 {
    @apply text-white mt-0;
  }

  .dark-card p {
    @apply text-gray-300;
  }

  .dark-card-grid {
    @apply grid grid-cols-1 md:grid-cols-2 gap-8 mt-8;
  }

  /* Alert Boxes */
  .alert-box {
    @apply rounded-2xl p-6 border my-8 relative overflow-hidden;
  }

  .alert-box.info {
    @apply bg-blue-50 border-blue-100 text-blue-900;
    border-left-width: 4px;
    border-left-color: theme('colors.apple.blue');
  }

  .alert-box.warning {
    @apply bg-red-50 border-red-100 text-red-900;
    border-left-width: 4px;
    border-left-color: theme('colors.apple.red');
  }

  .alert-box.neutral {
    @apply bg-gray-50 border-gray-200 text-gray-700;
    border-left-width: 4px;
    border-left-color: theme('colors.apple.gray');
  }

  .alert-title {
    @apply font-bold text-sm uppercase tracking-wider mb-2 opacity-80;
  }

  /* Feature Grids */
  .feature-grid {
    @apply grid grid-cols-1 md:grid-cols-3 gap-6 my-10;
  }

  .feature-card {
    @apply bg-gray-50 rounded-2xl p-6 border border-gray-100 hover:bg-white hover:border-apple-blue/30 hover:shadow-md transition-all;
  }

  .feature-card h3 {
    @apply text-lg font-bold text-apple-dark mb-2 mt-0;
  }

  .feature-card p {
    @apply text-sm text-gray-600 mb-0 leading-relaxed;
  }

  /* Checklists */
  .checklist {
    @apply space-y-4 my-8;
  }

  .checklist-item {
    @apply flex items-start gap-4 p-4 rounded-xl hover:bg-gray-50 transition-colors;
  }

  .checklist-number {
    @apply flex-shrink-0 w-8 h-8 rounded-full bg-apple-blue text-white flex items-center justify-center font-bold text-sm;
  }

  .checklist-number.green {
    @apply bg-apple-green;
  }

  .checklist-content h4 {
    @apply text-base font-bold text-apple-dark mb-1 mt-0;
  }

  .checklist-content p {
    @apply text-sm text-gray-600 mb-0 leading-relaxed;
  }

  /* Timeline */
  .timeline {
    @apply space-y-0 relative border-l-2 border-gray-100 ml-4 my-10;
  }

  .timeline-item {
    @apply relative pl-10 pb-10 last:pb-0;
  }

  .timeline-dot {
    @apply absolute -left-[9px] top-0 w-4 h-4 rounded-full border-2 border-white bg-gray-200 ring-4 ring-white;
  }

  .timeline-dot.blue {
    @apply bg-apple-blue;
  }

  .timeline-dot.green {
    @apply bg-apple-green;
  }

  .timeline-item h4 {
    @apply text-lg font-bold text-apple-dark mb-2 mt-0;
  }

  .timeline-item p {
    @apply text-sm text-gray-600 mb-0 leading-relaxed;
  }

  /* Section Header */
  .section-header {
    @apply flex items-center gap-4 mb-4 mt-16;
  }

  .section-header-icon {
    @apply w-10 h-10 rounded-xl flex items-center justify-center text-white flex-shrink-0;
  }

  .section-header-icon.blue {
    @apply bg-apple-blue;
  }

  .section-header-icon.green {
    @apply bg-apple-green;
  }

  .section-header-icon.red {
    @apply bg-apple-red;
  }

  .section-header-icon.yellow {
    @apply bg-yellow-400;
  }

  .section-header h2 {
    @apply mt-0 mb-0;
  }

  /* Deep Dive Grid */
  .deep-dive-grid {
    @apply grid grid-cols-1 md:grid-cols-3 gap-6 my-10;
  }

  .deep-dive-card {
    @apply block bg-white border border-gray-100 rounded-3xl p-8 hover:border-apple-blue/50 hover:shadow-xl hover:shadow-apple-blue/5 transition-all text-left;
  }

  .deep-dive-card-icon {
    @apply w-12 h-12 rounded-2xl flex items-center justify-center text-white mb-6;
  }

  .deep-dive-card-icon.blue {
    @apply bg-apple-blue;
  }

  .deep-dive-card-icon.red {
    @apply bg-apple-red;
  }

  .deep-dive-card-icon.green {
    @apply bg-apple-green;
  }

  .deep-dive-card h3 {
    @apply text-xl font-bold text-apple-dark mb-3 mt-0;
  }

  .deep-dive-card p {
    @apply text-sm text-gray-600 mb-0 leading-relaxed;
  }

  /* References */
  .references-list {
    @apply space-y-4 my-8 list-none pl-0;
  }

  .references-list li {
    @apply flex flex-col gap-1;
  }

  .reference-desc {
    @apply text-sm text-apple-gray block;
  }
}

/* ===== PROSE CONTENT (Apple Style) ===== */

/* Base */
.prose-content {
  @apply text-[1.125rem] text-gray-700 leading-[1.6] antialiased;
}

/* Headings */
.prose-content h1 {
  @apply text-4xl lg:text-5xl font-bold text-apple-dark mb-8 tracking-tight leading-tight;
}

/* Pre-header labels */
.pre-header {
  @apply block text-xs font-bold uppercase tracking-[0.1em] text-apple-blue mb-2;
}

/* Lead paragraph - intro text after H1 */
.prose-content .lead,
.prose-content h1+p {
  @apply text-xl lg:text-2xl text-apple-gray leading-relaxed mb-16 max-w-3xl font-medium;
}

.prose-content h2 {
  @apply text-3xl font-bold text-apple-dark mt-20 mb-8 scroll-mt-24 tracking-tight;
}

.prose-content h2:first-child {
  @apply mt-0;
}

.prose-content h3 {
  @apply text-xl font-bold text-apple-dark mt-12 mb-4;
}

.prose-content h4 {
  @apply text-lg font-bold text-apple-dark mt-8 mb-3;
}

/* Paragraphs */
.prose-content p {
  @apply mb-8 leading-relaxed max-w-4xl;
}

/* Lists */
.prose-content ul,
.prose-content ol {
  @apply mb-8 pl-6 space-y-4 max-w-4xl;
}

.prose-content ul {
  @apply list-disc;
}

.prose-content ol {
  @apply list-decimal;
}

.prose-content li {
  @apply text-gray-700 leading-relaxed;
}

.prose-content li ul,
.prose-content li ol {
  @apply mt-4 mb-0;
}

/* Inline Elements */
.prose-content a {
  @apply text-apple-blue hover:underline underline-offset-4 decoration-2 transition-all;
}

.prose-content strong {
  @apply text-apple-dark font-bold;
}

.prose-content code {
  @apply bg-gray-50 px-2 py-0.5 rounded-md text-[0.9em] font-mono text-apple-dark border border-gray-100;
}

/* Block Elements */
.prose-content pre {
  @apply bg-[#1d1d1f] text-gray-100 p-8 rounded-2xl overflow-x-auto mb-10 text-sm border border-white/10;
}

.prose-content pre code {
  @apply bg-transparent p-0 rounded-none text-inherit border-none;
}

.prose-content blockquote {
  @apply border-l-4 border-apple-blue/30 pl-8 py-2 italic text-gray-500 my-12 bg-blue-50/10 rounded-r-2xl;
}

.prose-content blockquote p {
  @apply mb-0;
}

.prose-content hr {
  @apply border-gray-100 my-16 opacity-50;
}

.prose-content section {
  @apply mb-24;
}

/* Tables */
.table-wrapper {
  @apply overflow-hidden border border-gray-100 rounded-2xl shadow-sm my-10;
}

.prose-content table {
  @apply w-full text-sm mb-0 border-collapse bg-white;
}

.prose-content thead {
  @apply bg-gray-50 border-b border-gray-100;
}

.prose-content th {
  @apply py-5 px-6 text-left font-bold text-apple-dark uppercase tracking-wider text-[0.7rem];
}

.prose-content td {
  @apply py-5 px-6 text-gray-600 border-b border-gray-50;
}

.prose-content tr:last-child td {
  @apply border-b-0;
}

.prose-content tbody {
  @apply divide-y divide-gray-50;
}

.prose-content tr {
  @apply hover:bg-gray-50/50 transition-colors;
}

/* Images and SVGs */
.prose-content img {
  @apply rounded-2xl shadow-lg my-10 max-w-full h-auto border border-gray-100;
}

.prose-content svg {
  @apply max-w-full;
}

.section-header-icon svg,
.deep-dive-card-icon svg,
.checklist-number svg {
  @apply w-full h-full p-2;
  color: inherit;
}

.prose-content figure {
  @apply my-12;
}

.prose-content figcaption {
  @apply text-center text-sm text-apple-gray mt-4 font-medium;
}

/* ===== GLOBAL STYLES ===== */

/* Selection - Apple blue */
::selection {
  @apply bg-apple-blue text-white;
}

/* Scroll offset for anchors */
[id] {
  scroll-margin-top: 5rem;
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
}
